(this.webpackJsonpISOBlueApp=this.webpackJsonpISOBlueApp||[]).push([[0],{104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(238)),c=a(n(248));function a(e){return e&&e.__esModule?e:{default:e}}var o={state:a(n(390)).default,providers:{oada:c.default},sequences:r.default};t.default=o},223:function(e,t,n){e.exports=n(391)},238:function(e,t,n){"use strict";var r=n(113);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=n(2),a=(n(8),u(n(76))),o=u(n(67)),i=u(n(89));function u(e){return e&&e.__esModule?e:{default:e}}function s(){var e=N(["oada.connections.",".connected"]);return s=function(){return e},e}function d(){var e=N(["",""]);return d=function(){return e},e}function l(){var e=N(["",""]);return l=function(){return e},e}function f(){var e=N(["",""]);return f=function(){return e},e}function p(){var e=N(["",""]);return p=function(){return e},e}function v(){var e=N(["",""]);return v=function(){return e},e}function b(){var e=N(["",""]);return b=function(){return e},e}function j(){var e=N(["oada.",""]);return j=function(){return e},e}function O(){var e=N(["oada.",".","",""]);return O=function(){return e},e}function h(){var e=N(["oada.","",""]);return h=function(){return e},e}function m(){var e=N(["oada.",".",""]);return m=function(){return e},e}function _(){var e=N(["oada.",".",""]);return _=function(){return e},e}function y(){var e=N(["",""]);return y=function(){return e},e}function g(){var e=N(["",""]);return g=function(){return e},e}function w(){var e=N(["",""]);return w=function(){return e},e}function k(){var e=N(["oada.error"]);return k=function(){return e},e}function E(){var e=N(["oada.connections.",".connected"]);return E=function(){return e},e}function D(){var e=N(["oada.connections.",".connected"]);return D=function(){return e},e}function x(){var e=N(["oada.",".bookmarks"]);return x=function(){return e},e}function q(){var e=N(["oada.",".bookmarks"]);return q=function(){return e},e}function C(){var e=N(["oada.connections.",".domain"]);return C=function(){return e},e}function S(){var e=N(["oada.connections.",".token"]);return S=function(){return e},e}function I(){var e=N(["oada.connections.",""]);return I=function(){return e},e}function P(){var e=N(["oada.connections.",""]);return P=function(){return e},e}function N(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function z(e){return o.default.parse(e).hostname.replace(/\./g,"_")}var M={delete:[function(e){var t=e.oada,n=e.state,r=e.props;if(!r.requests)throw new Error("Passing request parameters as top level keys of cerebral props has been deprecated. Instead, pass requests in as an array of request objects under the requests key");var c=r.requests||[];return(r.concurrent?a.default.map:a.default.mapSeries)(c,(function(e,a){if(!e.complete){var o=e.path.replace(/^\//,"").split("/").join("."),i=n.get("oada.".concat(e.connection_id||r.connection_id));if(!(e.unwatch&&i&&i.watches)||i.watches[e.path])return t.delete({connection_id:e.connection_id||r.connection_id,url:e.url,path:e.path,headers:e.headers,unwatch:e.unwatch,type:e.type,tree:e.tree||r.tree}).then((function(t){return e.unwatch&&i&&i.watches?n.unset("oada.".concat(e.connection_id||r.connection_id,".watches.").concat(e.path)):n.unset("oada.".concat(e.connection_id||r.connection_id,".").concat(o)),c[a].complete=!0,t}))}})).then((function(e){return{responses:e,requests:c}}))}],get:[function(e){var t=e.oada,n=e.store,o=e.get,i=e.props;if(!i.requests)throw new Error("Passing request parameters as top level keys of cerebral props has been deprecated. Instead, pass requests in as an array of request objects under the requests key");var u=i.requests||[];return(i.concurrent?a.default.map:a.default.mapSeries)(u,(function(e,a){if(!e.complete){var s=e.path.replace(/^\//,"").split("/").join(".");if(e.watch){var O=o((0,c.state)(j(),e.connection_id||i.connection_id));if(O){if(O&&O.watches&&O.watches[e.path])return;e.watch.signals=["oada.handleWatch"].concat(r(e.watch.signals)),e.watch.payload=e.watch.payload||{},e.watch.payload.connection_id=e.connection_id||i.connection_id,e.watch.payload.path=s}}return t.get({connection_id:e.connection_id||i.connection_id,url:e.url,path:e.path,headers:e.headers,watch:e.watch,tree:e.tree||i.tree}).then((function(t){var r=t.data,j="oada.".concat(e.connection_id||i.connection_id,".").concat(s),O=j.split("."),h="";return O.forEach((function(e){h+=e,null==o((0,c.state)(b(),h))&&n.set((0,c.state)(v(),h),{}),h+="."})),r&&n.set((0,c.state)(p(),j),r),e.watch&&(O=(j="oada.".concat(e.connection_id||i.connection_id,".watches.").concat(e.path)).split("."),h="",O.forEach((function(e){h+=e,null==o((0,c.state)(f(),h))&&n.set((0,c.state)(l(),h),{}),h+="."})),n.set((0,c.state)(d(),j),!0)),u[a].complete=!0,t})).catch((function(e){return console.log("Error in oada.get",e),e}))}})).then((function(e){return{responses:e,requests:u}}))}],put:[function(e){var t=e.oada,n=e.state,r=e.props;if(!r.requests)throw new Error("Passing request parameters as top level keys of cerebral props has been deprecated. Instead, pass requests in as an array of request objects under the requests key");var c=r.requests||[];return(r.concurrent?a.default.map:a.default.mapSeries)(c,(function(e,a){if(!e.complete)return t.put({url:e.url,path:e.path,data:e.data,type:e.type,headers:e.headers,tree:e.tree||r.tree,connection_id:e.connection_id||r.connection_id}).then((function(t){var o=i.default.cloneDeep(n.get("oada.".concat(e.connection_id||r.connection_id).concat(e.path.split("/").join(".")))),u=i.default.merge(o,e.data),s="oada.".concat(e.connection_id||r.connection_id).concat(e.path.split("/").join(".")),d=s.split("."),l="";return d.forEach((function(e){l+=e,null==n.get(l)&&n.set(l,{}),l+="."})),n.set(s,u),c[a].complete=!0,t}))})).then((function(e){return{responses:e,requests:c}}))}],post:[function(e){var t=e.oada,n=e.state,r=e.props;if(!r.requests)throw new Error("Passing request parameters as top level keys of cerebral props has been deprecated. Instead, pass requests in as an array of request objects under the requests key");var c=r.requests||[];return(r.concurrent?a.default.map:a.default.mapSeries)(c,(function(e,a){if(!e.complete)return t.post({url:e.url,path:e.path,data:e.data,type:e.type,headers:e.headers,tree:e.tree||r.tree,connection_id:e.connection_id||r.connection_id}).then((function(t){t.headers.location;var o=i.default.cloneDeep(n.get("oada.".concat(e.connection_id||r.connection_id).concat(e.path.split("/").join(".")))),u=i.default.merge(o,e.data);n.set("oada.".concat(e.connection_id||r.connection_id,".").concat(e.path.split("/").join(".")),u),c[a].complete=!0}))})).then((function(e){return{responses:e}}))}],connect:[function(e){var t=e.oada,n=e.path,r=e.props;return t.connect({connection_id:r.connection_id||z(r.domain),domain:r.domain,options:r.options,cache:r.cache,token:r.token,websocket:r.websocket}).then((function(e){return n.authorized({token:e.token,connection:e,connection_id:r.connection_id||z(r.domain)})})).catch((function(e){return n.unauthorized({err:e})}))},{authorized:[function(e){var t=e.store,n=e.get,r=(e.oada,e.props);return null==n((0,c.state)(P(),r.connection_id))&&t.set((0,c.state)(I(),r.connection_id),{}),t.set((0,c.state)(S(),r.connection_id),r.token),t.set((0,c.state)(C(),r.connection_id),r.domain),n((0,c.state)(q(),r.connection_id))&&t.set((0,c.state)(x(),r.connection_id),{}),t.set((0,c.state)(D(),r.connection_id),!0),{token:r.token,connection_id:r.connection_id}}],unauthorized:[function(e){var t=e.store,n=e.props;return t.set((0,c.state)(E(),n.connection_id),!1),t.set((0,c.state)(k()),{error:n.err.message}),{error:n.err,connection_id:n.connection_id}}]}],resetCache:[function(e){var t=e.oada,n=(e.state,e.props);return t.resetCache({connection_id:n.connection_id||z(n.domain)})}],disconnect:[function(e){var t=e.oada,n=e.store,r=e.props;return n.set((0,c.state)(s(),r.connection_id),!1),t.disconnect({connection_id:r.connection_id})}],domainToConnectionId:z,handleWatch:[function(e){e.oada;var t=e.get,n=(e.path,e.props),r=e.store,a="oada.".concat(n.connection_id,".").concat(n.path);if(Array.isArray(n.response.change)){var o=i.default.cloneDeep(t((0,c.state)(w(),a)));return n.response.change.forEach((function(e){if("merge"===e.type){var a=e.path.split("/").join("."),o="oada.".concat(n.connection_id,".").concat(n.path).concat(a),u=t((0,c.state)(g(),o)),s=i.default.merge(u,e.body);r.set((0,c.state)(y(),o),s)}})),{oldState:o}}if("merge"===n.response.change.type){var u=i.default.cloneDeep(t((0,c.state)(_(),n.connection_id,n.path))),s=i.default.merge(u,n.response.change.body.data);return r.set((0,c.state)(m(),n.connection_id,n.path),s),{oldState:u}}if("delete"===n.response.change.type){var d=n.nullPath.split("/").join(".");u=i.default.cloneDeep(t((0,c.state)(h(),n.connection_id,d)));return r.unset((0,c.state)(O(),n.connection_id,n.path,d)),{oldState:u}}}]};t.default=M},248:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;n(2);var r=c(n(249));c(n(387));function c(e){return e&&e.__esModule?e:{default:e}}var a={},o={connect:function(e){if(!e.connection_id)throw"connection_id not supplied";return e.connection_id&&a[e.connection_id]?Promise.resolve(a[e.connection_id]):r.default.connect(e).then((function(t){return t.cache={},a[e.connection_id]=t,t}))},get:function(e){var t=this;if(!e.connection_id)throw"connection_id not supplied";if(e.watch&&e.watch.signals){var n=e.watch.signals.map((function(e){if(t.context)return t.context.controller.hasOwnProperty("getSignal")?t.context.controller.getSignal(e):t.context.controller.getSequence(e)}));e.watch.func=function(e){n.forEach((function(t){t(e)}))}}return a[e.connection_id].get(e)},put:function(e){if(!e.connection_id)throw"connection_id not supplied";return a[e.connection_id].put(e)},post:function(e){if(!e.connection_id)throw"connection_id not supplied";return a[e.connection_id].post(e)},delete:function(e){if(!e.connection_id)throw"connection_id not supplied";return a[e.connection_id].delete(e)},resetCache:function(e){if(!e.connection_id)throw"connection_id not supplied";if(a[e.connection_id])return a[e.connection_id].resetCache(e)},disconnect:function(e){if(!e.connection_id)throw"connection_id not supplied";var t=a[e.connection_id];return a[e.connection_id]=void 0,t.disconnect()}};t.default=o},304:function(e,t){},306:function(e,t){},312:function(e,t){},314:function(e,t){},343:function(e,t){},344:function(e,t){},390:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={connections:{}}},391:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"initialize",(function(){return Qn})),n.d(r,"connect",(function(){return Rn})),n.d(r,"handleNewDevice",(function(){return Xn})),n.d(r,"handleDeviceLocationUpdate",(function(){return Zn})),n.d(r,"handleDayUpdate",(function(){return $n})),n.d(r,"toggleDrawer",(function(){return Yn})),n.d(r,"selectDevice",(function(){return er})),n.d(r,"unselectDevice",(function(){return tr})),n.d(r,"selectDay",(function(){return nr})),n.d(r,"selectHour",(function(){return rr})),n.d(r,"toggleDeviceSync",(function(){return cr}));var c=n(0),a=n.n(c),o=n(15),i=n.n(o),u=n(43),s=n(3),d=n(44),l=n(29),f=n(53),p=n(54),v=n(57),b=n(2),j=n(7),O=n(434),h=n(436),m=n(422),_=n(426),y=n(108),g=n(213),w=n.n(g);function k(){var e=Object(s.a)(["connection.connection_id"]);return k=function(){return e},e}function E(){var e=Object(s.a)(["toggleDrawer"]);return E=function(){return e},e}var D=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes;return a.a.createElement(m.a,null,a.a.createElement(_.a,{color:"inherit","aria-label":"Open Drawer",onClick:function(){return e.props.toggleDrawer()}},a.a.createElement(w.a,{className:t.icon})),a.a.createElement(y.a,{variant:"h6",color:"inherit",className:t.flex},"ISOBlueApp [2.0.1]"),a.a.createElement("div",{className:t.connectopmStatusIndicator},a.a.createElement(y.a,{variant:"h6",color:"inherit"},this.props.connection_id?"Connected":"Not Connected")))}}]),t}(a.a.Component),x=Object(u.connect)({toggleDrawer:Object(b.sequences)(E()),connection_id:Object(b.state)(k())},Object(j.a)((function(e){return{flex:{flex:1},connectopmStatusIndicator:{marginLeft:"auto"}}}))(D)),q=n(435),C=n(428),S=n(427),I=n(429),P=n(394),N=n(430),z=n(431),M=n(437),G=n(432),U=n(433),A=n(440),B=n(214),T=n.n(B);function H(){var e=Object(s.a)(["oada"]);return H=function(){return e},e}function L(){var e=Object(s.a)(["connection"]);return L=function(){return e},e}function W(){var e=Object(s.a)(["toggleDeviceSync"]);return W=function(){return e},e}function J(){var e=Object(s.a)(["unselectDevice"]);return J=function(){return e},e}function V(){var e=Object(s.a)(["selectDay"]);return V=function(){return e},e}function F(){var e=Object(s.a)(["selectHour"]);return F=function(){return e},e}function K(){var e=Object(s.a)(["selectDevice"]);return K=function(){return e},e}function Q(){var e=Object(s.a)(["selectedDevice"]);return Q=function(){return e},e}function R(){var e=Object(s.a)(["devices"]);return R=function(){return e},e}function X(){var e=Object(s.a)(["toggleDrawer"]);return X=function(){return e},e}function Z(){var e=Object(s.a)(["components.drawer"]);return Z=function(){return e},e}var $=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=a.a.createElement("div",null),r=this.props.selectedDevice;if(r.device&&r.day&&r.hour){var c=Object.keys(this.props.oada[this.props.connection.connection_id].bookmarks.isoblue["device-index"][r.device].location["day-index"]||{}),o=Object.keys(this.props.oada[this.props.connection.connection_id].bookmarks.isoblue["device-index"][r.device].location["day-index"][r.day]["hour-index"]||{}),i=a.a.createElement(q.a,{value:r.day,renderValue:function(e){return"".concat(e)},onChange:function(t){return e.props.selectDay({day:t.target.value})}},c.map((function(e){return a.a.createElement(C.a,{key:e,value:e},e)})),";"),u=(new Date).getTimezoneOffset(),s=function(e){var t=e.split(":"),n=(t[1]?60*parseInt(t[0])+parseInt(t[1]):60*parseInt(e))-u,r="";n<0?(n+=1440,r=" (-1 day)"):n>1440&&(n-=1440,r=" (+1 day)");var c=n%60;return Math.floor(n/60).toString().padStart(2,"0")+":"+c.toString().padStart(2,"0")+r},d=a.a.createElement(q.a,{value:r.hour,renderValue:function(e){return"".concat(s(e))},onChange:function(t){return e.props.selectHour({hour:t.target.value})}},o.map((function(e){return a.a.createElement(C.a,{key:e,value:e},s(e))})));n=a.a.createElement(S.a,null,a.a.createElement(I.a,null),a.a.createElement(P.a,null,a.a.createElement(N.a,{align:"center",primary:"Device: ".concat(r.device)})),a.a.createElement(P.a,null,a.a.createElement(N.a,{align:"center"},i)),a.a.createElement(P.a,null,a.a.createElement(N.a,{align:"center"},d)),a.a.createElement(P.a,null,a.a.createElement(N.a,{align:"center"},a.a.createElement(z.a,{variant:"contained",onClick:function(){return e.props.unselectDevice({})}},"Unselect Device"))))}return a.a.createElement(M.a,{open:this.props.drawer,onClose:function(){return e.props.toggleDrawer()},classes:{paper:t.drawerPaper}},a.a.createElement("div",{className:t.toolbar}),a.a.createElement(S.a,null,a.a.createElement(P.a,null,a.a.createElement(N.a,{align:"center",primary:"Available Devices"})),a.a.createElement(S.a,{className:t.list,component:"nav"},Object.keys(this.props.devices||{}).map((function(t){return a.a.createElement(P.a,{button:!0,key:"-".concat(t),onClick:function(){return e.props.selectDevice({device:t})}},a.a.createElement(G.a,null,a.a.createElement(T.a,null)),a.a.createElement(N.a,{primary:t}),a.a.createElement(U.a,null,a.a.createElement(A.a,{edge:"end",onChange:function(){return e.props.toggleDeviceSync({device:t})},checked:e.props.devices[t].sync,inputProps:{"aria-labelledby":"switch-list-label-wifi"}})))}))),n))}}]),t}(a.a.Component),Y=Object(u.connect)({drawer:Object(b.state)(Z()),toggleDrawer:Object(b.sequences)(X()),devices:Object(b.state)(R()),selectedDevice:Object(b.state)(Q()),selectDevice:Object(b.sequences)(K()),selectHour:Object(b.sequences)(F()),selectDay:Object(b.sequences)(V()),unselectDevice:Object(b.sequences)(J()),toggleDeviceSync:Object(b.sequences)(W()),connection:Object(b.state)(L()),oada:Object(b.state)(H())},Object(j.a)((function(e){return{drawerPaper:{position:"relative",width:240,backgroundColor:"#eeeeee"},toolbar:e.mixins.toolbar}}),{withTheme:!0})($)),ee=n(27),te=n.n(ee),ne=(n(237),n(438)),re=n(441),ce=n(439),ae=n(442),oe=n(215),ie=n.n(oe),ue=n(216),se=n.n(ue);function de(){var e=Object(s.a)(["selectDevice"]);return de=function(){return e},e}function le(){var e=Object(s.a)(["selectedDevice"]);return le=function(){return e},e}function fe(){var e=Object(s.a)(["oada"]);return fe=function(){return e},e}function pe(){var e=Object(s.a)(["connection"]);return pe=function(){return e},e}function ve(){var e=Object(s.a)(["devices"]);return ve=function(){return e},e}function be(){var e=Object(s.a)(["mapCenter"]);return be=function(){return e},e}var je=te.a.icon({iconUrl:ie.a,shadowUrl:se.a});te.a.Marker.prototype.options.icon=je;var Oe=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,n=[];Object.keys(this.props.devices||{}).forEach((function(t){e.props.devices[t].sync&&e.props.devices[t].location.lat&&e.props.devices[t].location.lng&&n.push(a.a.createElement(ne.a,{ref:function(t){e.device=t},key:t,center:[e.props.devices[t].location.lat,e.props.devices[t].location.lng],color:"#ffffff",fillColor:"#008000",fillOpacity:1,radius:12,zIndexOffset:1,onClick:function(n){return e.props.selectDevice({device:t})}},a.a.createElement(re.a,{direction:"top",offset:[0,-10],permanent:!0},a.a.createElement("b",null,t))))}));var r=this.props.selectedDevice,c=[];if(r.device&&r.day&&r.hour)try{var o=this.props.oada[this.props.connection.connection_id].bookmarks.isoblue["device-index"][r.device].location["day-index"][r.day]["hour-index"][r.hour].data||{};Object.keys(o).forEach((function(e){isNaN(o[e].location.lat)||isNaN(o[e].location.lng)||c.push(a.a.createElement(ne.a,{key:e,center:[o[e].location.lat,o[e].location.lng],radius:1,color:"#ffffff"}))}))}catch(i){console.log("failed to get location points.")}return a.a.createElement("div",{className:t.map},a.a.createElement(ce.a,{center:[this.props.mapCenter.lat,this.props.mapCenter.lng],zoom:15,maxZoom:18,preferCanvas:!0,style:{height:"100%",width:"100%",position:"relative"}},a.a.createElement(ae.a,{attribution:"Tiles \xa9 Esri \u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community",url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"}),a.a.createElement("div",null,c),n))}}]),t}(a.a.Component),he=Object(u.connect)({mapCenter:Object(b.state)(be()),devices:Object(b.state)(ve()),connection:Object(b.state)(pe()),oada:Object(b.state)(fe()),selectedDevice:Object(b.state)(le()),selectDevice:Object(b.sequences)(de())},Object(j.a)((function(e){return{map:{position:"relative",display:"flex",width:"100%",height:"calc(100% - 56px)"}}}),{withTheme:!0})(Oe));function me(){var e=Object(s.a)(["modalOverlay"]);return me=function(){return e},e}var _e=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.classes;return a.a.createElement("div",{className:e.root},a.a.createElement(O.a,{position:"absolute",className:e.appBar},a.a.createElement(x,null)),a.a.createElement(Y,null),a.a.createElement("main",{className:e.content},a.a.createElement("div",{className:e.toolbar}),a.a.createElement(he,null)),a.a.createElement(h.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.props.modalOverlay},a.a.createElement("div",null)))}}]),t}(a.a.Component),ye=Object(u.connect)({modalOverlay:Object(b.state)(me())},Object(j.a)((function(e){return{root:{flexGrow:1,height:"100vh",zIndex:1,overflow:"hidden",position:"relative",display:"flex"},appBar:{zIndex:e.zIndex.drawer+1},content:{flexGrow:1},toolbar:e.mixins.toolbar}}),{withTheme:!0})(_e)),ge=n(8),we=n(104),ke=n.n(we),Ee=n(134),De=n.n(Ee),xe={bookmarks:{_type:"application/vnd.oada.bookmarks.1+json",_rev:0,isoblue:{_type:"application/vnd.oada.isoblue.1+json",_rev:0,"device-index":{"*":{_type:"application/vnd.oada.isoblue.device.1+json",_rev:0,"*":{_type:"application/vnd.oada.isoblue.dataset.1+json",_rev:0,"day-index":{"*":{_type:"application/vnd.oada.isoblue.day.1+json",_rev:0,"hour-index":{"*":{_type:"application/vnd.oada.isoblue.hour.1+json"}}}}}}}}}},qe={bookmarks:{_type:"applications/vnd.oada.bookmarks.1+json",_rev:0,isoblue:{_type:"applications/vnd.oada.isoblue.1+json",_rev:0,"device-index":{"*":{_type:"applications/vnd.oada.isoblue.device.1+json",_rev:0,"*":{_type:"application/vnd.oada.isoblue.dataset.1+json",_rev:0,"day-index":{"*":{_type:"applications/vnd.oada.isoblue.day.1+json",_rev:0}}}}}}}},Ce={bookmarks:{_type:"applications/vnd.oada.bookmarks.1+json",_rev:0,isoblue:{_type:"applications/vnd.oada.isoblue.1+json",_rev:0,"device-index":{"*":{_type:"applications/vnd.oada.isoblue.device.1+json",_rev:0,"*":{_type:"application/vnd.oada.isoblue.dataset.1+json",_rev:0}}}}}},Se={bookmarks:{_type:"applications/vnd.oada.bookmarks.1+json",_rev:0,isoblue:{_type:"applications/vnd.oada.isoblue.1+json",_rev:0,"device-index":{}}}};function Ie(){var e=Object(s.a)(["devices"]);return Ie=function(){return e},e}function Pe(){var e=Object(s.a)(["oada.",".bookmarks.isoblue.device-index"]);return Pe=function(){return e},e}function Ne(){var e=Object(s.a)(["connection.connection_id"]);return Ne=function(){return e},e}function ze(){var e=Object(s.a)(["oada.",".bookmarks.isoblue.device-index.",".location.day-index.",".hour-index.",".data"]);return ze=function(){return e},e}function Me(){var e=Object(s.a)(["hour"]);return Me=function(){return e},e}function Ge(){var e=Object(s.a)(["day"]);return Ge=function(){return e},e}function Ue(){var e=Object(s.a)(["connection.connection_id"]);return Ue=function(){return e},e}function Ae(){var e=Object(s.a)(["device"]);return Ae=function(){return e},e}function Be(){var e=Object(s.a)(["oada.",".bookmarks.isoblue.device-index.",".location.day-index.",".hour-index"]);return Be=function(){return e},e}function Te(){var e=Object(s.a)(["day"]);return Te=function(){return e},e}function He(){var e=Object(s.a)(["connection.connection_id"]);return He=function(){return e},e}function Le(){var e=Object(s.a)(["device"]);return Le=function(){return e},e}function We(){var e=Object(s.a)(["oada.",".bookmarks.isoblue.device-index.",".location.day-index"]);return We=function(){return e},e}function Je(){var e=Object(s.a)(["connection.connection_id"]);return Je=function(){return e},e}function Ve(){var e=Object(s.a)(["device"]);return Ve=function(){return e},e}function Fe(){var e=Object(s.a)(["hour"]);return Fe=function(){return e},e}function Ke(){var e=Object(s.a)(["day"]);return Ke=function(){return e},e}function Qe(){var e=Object(s.a)(["device"]);return Qe=function(){return e},e}function Re(){var e=Object(s.a)(["day"]);return Re=function(){return e},e}function Xe(){var e=Object(s.a)(["device"]);return Xe=function(){return e},e}function Ze(){var e=Object(s.a)(["device"]);return Ze=function(){return e},e}var $e=function(e){var t=(0,e.get)(Object(b.props)(Ze()));return{requests:[{path:"/bookmarks/isoblue/device-index/".concat(t,"/location"),tree:Ce,watch:{signals:["handleDayUpdate"],payload:{device:t}}}]}},Ye=function(e){var t=e.get,n=t(Object(b.props)(Xe())),r=t(Object(b.props)(Re()));return{requests:[{path:"/bookmarks/isoblue/device-index/".concat(n,"/location/day-index/").concat(r),tree:qe}]}},et=function(e){var t=e.get,n=t(Object(b.props)(Qe())),r=t(Object(b.props)(Ke())),c=t(Object(b.props)(Fe()));return{requests:[{path:"/bookmarks/isoblue/device-index/".concat(n,"/location/day-index/").concat(r,"/hour-index/").concat(c),tree:xe,watch:{signals:["handleDeviceLocationUpdate"],payload:{device:n}}}]}},tt=function(e){var t=e.get,n=t(Object(b.props)(Ve())),r=t(Object(b.state)(Je()));if(!n||!r)throw new Error("Missing parameters");var c=t(Object(b.state)(We(),r,n)),a=Object.keys(c);return 0===a.length?{}:{day:De.a.maxBy(a,(function(e){return new Date(e)}))}},nt=function(e){var t=e.get,n=t(Object(b.props)(Le())),r=t(Object(b.state)(He())),c=t(Object(b.props)(Te()));if(!n||!r||!c)throw new Error("Missing parameters");var a=t(Object(b.state)(Be(),r,n,c));return 0===Object.keys(a).length?{}:{hour:De.a.maxBy(Object.keys(a||{}),(function(e){return e.toString()}))}},rt=function(e){var t=e.get,n=t(Object(b.props)(Ae())),r=t(Object(b.state)(Ue())),c=t(Object(b.props)(Ge())),a=t(Object(b.props)(Me()));if(!n||!r||!c||!a)throw new Error("Missing parameters");var o=t(Object(b.state)(ze(),r,n,c,a));return{latest_data_point:Object.values(o||{}).reduce((function(e,t){return t.time.value?e.time.value>t.time.value?e:{time:t.time.value,lat:t.location.lat,lng:t.location.lng}:e}),{time:0,lat:0,lng:0})}},ct=function(e){var t=e.get,n=t(Object(b.state)(Ne())),r=t(Object(b.state)(Pe(),n))||{};if(!n)throw new Error("Missing parameters");var c=t(Object(b.state)(Ie()));for(var a in r)a in c||(c[a]={sync:!1,watchPath:null,location:{lat:null,lng:null}});return{devices:c}};function at(){var e=Object(s.a)(["modalOverlay"]);return at=function(){return e},e}function ot(){var e=Object(s.a)(["device"]);return ot=function(){return e},e}function it(){var e=Object(s.a)(["devices.",".sync"]);return it=function(){return e},e}function ut(){var e=Object(s.a)(["latest_data_point.lng"]);return ut=function(){return e},e}function st(){var e=Object(s.a)(["mapCenter.lng"]);return st=function(){return e},e}function dt(){var e=Object(s.a)(["latest_data_point.lat"]);return dt=function(){return e},e}function lt(){var e=Object(s.a)(["mapCenter.lat"]);return lt=function(){return e},e}function ft(){var e=Object(s.a)(["latest_data_point.lat"]);return ft=function(){return e},e}function pt(){var e=Object(s.a)(["device"]);return pt=function(){return e},e}function vt(){var e=Object(s.a)(["devices.",".location.lat"]);return vt=function(){return e},e}function bt(){var e=Object(s.a)(["latest_data_point.lng"]);return bt=function(){return e},e}function jt(){var e=Object(s.a)(["device"]);return jt=function(){return e},e}function Ot(){var e=Object(s.a)(["devices.",".location.lng"]);return Ot=function(){return e},e}function ht(){var e=Object(s.a)(["connection.connection_id"]);return ht=function(){return e},e}function mt(){var e=Object(s.a)(["connection_id"]);return mt=function(){return e},e}function _t(){var e=Object(s.a)(["device"]);return _t=function(){return e},e}function yt(){var e=Object(s.a)(["devices.",".sync"]);return yt=function(){return e},e}function gt(){var e=Object(s.a)(["device"]);return gt=function(){return e},e}function wt(){var e=Object(s.a)(["devices.",".sync"]);return wt=function(){return e},e}function kt(){var e=Object(s.a)(["modalOverlay"]);return kt=function(){return e},e}function Et(){var e=Object(s.a)(["modalOverlay"]);return Et=function(){return e},e}function Dt(){var e=Object(s.a)(["latest_data_point.lng"]);return Dt=function(){return e},e}function xt(){var e=Object(s.a)(["mapCenter.lng"]);return xt=function(){return e},e}function qt(){var e=Object(s.a)(["latest_data_point.lat"]);return qt=function(){return e},e}function Ct(){var e=Object(s.a)(["mapCenter.lat"]);return Ct=function(){return e},e}function St(){var e=Object(s.a)(["hour"]);return St=function(){return e},e}function It(){var e=Object(s.a)(["selectedDevice.hour"]);return It=function(){return e},e}function Pt(){var e=Object(s.a)(["selectedDevice.day"]);return Pt=function(){return e},e}function Nt(){var e=Object(s.a)(["day"]);return Nt=function(){return e},e}function zt(){var e=Object(s.a)(["selectedDevice.device"]);return zt=function(){return e},e}function Mt(){var e=Object(s.a)(["device"]);return Mt=function(){return e},e}function Gt(){var e=Object(s.a)(["connection.connection_id"]);return Gt=function(){return e},e}function Ut(){var e=Object(s.a)(["connection_id"]);return Ut=function(){return e},e}function At(){var e=Object(s.a)(["modalOverlay"]);return At=function(){return e},e}function Bt(){var e=Object(s.a)(["modalOverlay"]);return Bt=function(){return e},e}function Tt(){var e=Object(s.a)(["latest_data_point.lng"]);return Tt=function(){return e},e}function Ht(){var e=Object(s.a)(["mapCenter.lng"]);return Ht=function(){return e},e}function Lt(){var e=Object(s.a)(["latest_data_point.lat"]);return Lt=function(){return e},e}function Wt(){var e=Object(s.a)(["mapCenter.lat"]);return Wt=function(){return e},e}function Jt(){var e=Object(s.a)(["day"]);return Jt=function(){return e},e}function Vt(){var e=Object(s.a)(["selectedDevice.day"]);return Vt=function(){return e},e}function Ft(){var e=Object(s.a)(["selectedDevice.device"]);return Ft=function(){return e},e}function Kt(){var e=Object(s.a)(["device"]);return Kt=function(){return e},e}function Qt(){var e=Object(s.a)(["connection.connection_id"]);return Qt=function(){return e},e}function Rt(){var e=Object(s.a)(["connection_id"]);return Rt=function(){return e},e}function Xt(){var e=Object(s.a)(["modalOverlay"]);return Xt=function(){return e},e}function Zt(){var e=Object(s.a)(["selectedDevice.hour"]);return Zt=function(){return e},e}function $t(){var e=Object(s.a)(["selectedDevice.day"]);return $t=function(){return e},e}function Yt(){var e=Object(s.a)(["selectedDevice.device"]);return Yt=function(){return e},e}function en(){var e=Object(s.a)(["modalOverlay"]);return en=function(){return e},e}function tn(){var e=Object(s.a)(["hour"]);return tn=function(){return e},e}function nn(){var e=Object(s.a)(["selectedDevice.hour"]);return nn=function(){return e},e}function rn(){var e=Object(s.a)(["day"]);return rn=function(){return e},e}function cn(){var e=Object(s.a)(["selectedDevice.day"]);return cn=function(){return e},e}function an(){var e=Object(s.a)(["device"]);return an=function(){return e},e}function on(){var e=Object(s.a)(["selectedDevice.device"]);return on=function(){return e},e}function un(){var e=Object(s.a)(["latest_data_point.lng"]);return un=function(){return e},e}function sn(){var e=Object(s.a)(["mapCenter.lng"]);return sn=function(){return e},e}function dn(){var e=Object(s.a)(["latest_data_point.lat"]);return dn=function(){return e},e}function ln(){var e=Object(s.a)(["mapCenter.lat"]);return ln=function(){return e},e}function fn(){var e=Object(s.a)(["device"]);return fn=function(){return e},e}function pn(){var e=Object(s.a)(["devices.",".sync"]);return pn=function(){return e},e}function vn(){var e=Object(s.a)(["latest_data_point.lat"]);return vn=function(){return e},e}function bn(){var e=Object(s.a)(["device"]);return bn=function(){return e},e}function jn(){var e=Object(s.a)(["devices.",".location.lat"]);return jn=function(){return e},e}function On(){var e=Object(s.a)(["latest_data_point.lng"]);return On=function(){return e},e}function hn(){var e=Object(s.a)(["device"]);return hn=function(){return e},e}function mn(){var e=Object(s.a)(["devices.",".location.lng"]);return mn=function(){return e},e}function _n(){var e=Object(s.a)(["device"]);return _n=function(){return e},e}function yn(){var e=Object(s.a)(["devices.",".sync"]);return yn=function(){return e},e}function gn(){var e=Object(s.a)(["connection.connection_id"]);return gn=function(){return e},e}function wn(){var e=Object(s.a)(["connection_id"]);return wn=function(){return e},e}function kn(){var e=Object(s.a)(["modalOverlay"]);return kn=function(){return e},e}function En(){var e=Object(s.a)(["components.drawer"]);return En=function(){return e},e}function Dn(){var e=Object(s.a)(["latest_data_point.lat"]);return Dn=function(){return e},e}function xn(){var e=Object(s.a)(["device"]);return xn=function(){return e},e}function qn(){var e=Object(s.a)(["devices.",".location.lat"]);return qn=function(){return e},e}function Cn(){var e=Object(s.a)(["latest_data_point.lng"]);return Cn=function(){return e},e}function Sn(){var e=Object(s.a)(["device"]);return Sn=function(){return e},e}function In(){var e=Object(s.a)(["devices.",".location.lng"]);return In=function(){return e},e}function Pn(){var e=Object(s.a)(["connection.connection_id"]);return Pn=function(){return e},e}function Nn(){var e=Object(s.a)(["connection_id"]);return Nn=function(){return e},e}function zn(){var e=Object(s.a)(["latest_data_point.lat"]);return zn=function(){return e},e}function Mn(){var e=Object(s.a)(["device"]);return Mn=function(){return e},e}function Gn(){var e=Object(s.a)(["devices.",".location.lat"]);return Gn=function(){return e},e}function Un(){var e=Object(s.a)(["latest_data_point.lng"]);return Un=function(){return e},e}function An(){var e=Object(s.a)(["device"]);return An=function(){return e},e}function Bn(){var e=Object(s.a)(["devices.",".location.lng"]);return Bn=function(){return e},e}function Tn(){var e=Object(s.a)(["devices"]);return Tn=function(){return e},e}function Hn(){var e=Object(s.a)(["devices"]);return Hn=function(){return e},e}function Ln(){var e=Object(s.a)(["modalOverlay"]);return Ln=function(){return e},e}function Wn(){var e=Object(s.a)(["devices"]);return Wn=function(){return e},e}function Jn(){var e=Object(s.a)(["devices"]);return Jn=function(){return e},e}function Vn(){var e=Object(s.a)(["connection_id"]);return Vn=function(){return e},e}function Fn(){var e=Object(s.a)(["connection.connection_id"]);return Fn=function(){return e},e}var Kn=ke.a.sequences,Qn=function(){},Rn=[function(){return{domain:"https://oats2.ecn.purdue.edu",token:"pIhEHwLtQiyuEpT1xKLtPzTasTJl58kGFNqBGlpd",cache:!1}},Kn.connect,Object(ge.set)(Object(b.state)(Fn()),Object(b.props)(Vn())),function(e){e.get;return{requests:[{path:"/bookmarks/isoblue",tree:Se,watch:{signals:["handleNewDevice"]}}]}},Kn.get,ct,Object(ge.set)(Object(b.state)(Jn()),Object(b.props)(Wn())),Object(ge.set)(Object(b.state)(Ln()),!1)],Xn=[ct,Object(ge.set)(Object(b.state)(Hn()),Object(b.props)(Tn()))],Zn=[tt,nt,rt,Object(ge.set)(Object(b.state)(Bn(),Object(b.props)(An())),Object(b.props)(Un())),Object(ge.set)(Object(b.state)(Gn(),Object(b.props)(Mn())),Object(b.props)(zn()))],$n=[Object(ge.set)(Object(b.props)(Nn()),Object(b.state)(Pn())),tt,Ye,Kn.get,nt,et,Kn.get,rt,Object(ge.set)(Object(b.state)(In(),Object(b.props)(Sn())),Object(b.props)(Cn())),Object(ge.set)(Object(b.state)(qn(),Object(b.props)(xn())),Object(b.props)(Dn()))],Yn=Object(ge.toggle)(Object(b.state)(En())),er=[Object(ge.set)(Object(b.state)(kn()),!0),Object(ge.set)(Object(b.props)(wn()),Object(b.state)(gn())),Object(ge.when)(Object(b.state)(yn(),Object(b.props)(_n()))),{true:[tt,nt,rt],false:[$e,Kn.get,tt,Ye,Kn.get,nt,et,Kn.get,rt]},Object(ge.set)(Object(b.state)(mn(),Object(b.props)(hn())),Object(b.props)(On())),Object(ge.set)(Object(b.state)(jn(),Object(b.props)(bn())),Object(b.props)(vn())),Object(ge.set)(Object(b.state)(pn(),Object(b.props)(fn())),!0),Object(ge.set)(Object(b.state)(ln()),Object(b.props)(dn())),Object(ge.set)(Object(b.state)(sn()),Object(b.props)(un())),Object(ge.set)(Object(b.state)(on()),Object(b.props)(an())),Object(ge.set)(Object(b.state)(cn()),Object(b.props)(rn())),Object(ge.set)(Object(b.state)(nn()),Object(b.props)(tn())),Object(ge.set)(Object(b.state)(en()),!1)],tr=[Object(ge.set)(Object(b.state)(Yt()),null),Object(ge.set)(Object(b.state)($t()),null),Object(ge.set)(Object(b.state)(Zt()),null)],nr=[Object(ge.set)(Object(b.state)(Xt()),!0),Object(ge.set)(Object(b.props)(Rt()),Object(b.state)(Qt())),Object(ge.set)(Object(b.props)(Kt()),Object(b.state)(Ft())),Object(ge.set)(Object(b.state)(Vt()),Object(b.props)(Jt())),Ye,Kn.get,nt,et,Kn.get,rt,Object(ge.set)(Object(b.state)(Wt()),Object(b.props)(Lt())),Object(ge.set)(Object(b.state)(Ht()),Object(b.props)(Tt())),Object(ge.set)(Object(b.state)(Bt()),!1)],rr=[Object(ge.set)(Object(b.state)(At()),!0),Object(ge.set)(Object(b.props)(Ut()),Object(b.state)(Gt())),Object(ge.set)(Object(b.props)(Mt()),Object(b.state)(zt())),Object(ge.set)(Object(b.props)(Nt()),Object(b.state)(Pt())),Object(ge.set)(Object(b.state)(It()),Object(b.props)(St())),et,Kn.get,rt,Object(ge.set)(Object(b.state)(Ct()),Object(b.props)(qt())),Object(ge.set)(Object(b.state)(xt()),Object(b.props)(Dt())),Object(ge.set)(Object(b.state)(Et()),!1)],cr=[Object(ge.set)(Object(b.state)(kt()),!0),Object(ge.when)(Object(b.state)(wt(),Object(b.props)(gt()))),{true:[Object(ge.set)(Object(b.state)(yt(),Object(b.props)(_t())),!1)],false:[Object(ge.set)(Object(b.props)(mt()),Object(b.state)(ht())),$e,Kn.get,tt,Ye,Kn.get,nt,et,Kn.get,rt,Object(ge.set)(Object(b.state)(Ot(),Object(b.props)(jt())),Object(b.props)(bt())),Object(ge.set)(Object(b.state)(vt(),Object(b.props)(pt())),Object(b.props)(ft())),Object(ge.set)(Object(b.state)(lt()),Object(b.props)(dt())),Object(ge.set)(Object(b.state)(st()),Object(b.props)(ut())),Object(ge.set)(Object(b.state)(it(),Object(b.props)(ot())),!0)]},Object(ge.set)(Object(b.state)(at()),!1)],ar={mapCenter:{lat:40.428641,lng:-86.913783},connection:{},devices:{},components:{drawer:!1},selectedDevice:{device:null,day:null,hour:null},modalOverlay:!0},or=(n(392),Object(b.default)((function(e){var t=e.app;return t.on("initialized",(function(){t.getSequence("connect")()})),{modules:{oada:ke.a},state:ar,sequences:r}}),{devtools:null}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(u.Container,{app:or},a.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[223,1,2]]]);
//# sourceMappingURL=main.218bfc56.chunk.js.map